<script>
  import { io } from "https://cdn.socket.io/4.7.5/socket.io.esm.min.js";
  const client = io();
  function heartbeat() {
    clearTimeout(this.pingTimeout);
    this.pingTimeout = setTimeout(() => {
      this.terminate();
    }, 30000 + 1000);
}
client.on('open', heartbeat, console.log('Connection Established'));
client.on('ping', heartbeat);
client.on('close', function clear() {
  clearTimeout(this.pingTimeout);
});
</script>